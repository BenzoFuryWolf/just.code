import "./Header.css"
import {Link} from "react-router-dom";
import {Userstate} from "../../store/index.jsx"
import {useState} from "react";

const UnauthorizedHeader = () =>{
    return (
        <header className={"Header"}>
            <nav>
                <Link className={`logo`} to={`/`}>JUST.CODE</Link>
            </nav>
            <nav className={`menu`}>
                <Link className={`text`}>Главная</Link>
                <Link className={`text`} to={`/ziro`}>Информация</Link>
                <Link className={`text`}>Стать автором</Link>
            </nav>
            <nav className={`auth`}>
                <Link className={`btn btn-1`}>Вход</Link>
                <Link className={`btn btn-2`}>Регистрация</Link>
            </nav>
        </header>
    )
}

const AuthorizedHeader = () => {
    const [active, setActive] = useState(false)
    // Иконки вынесены сюда, чтобы было легче читать компонент
    const notificationIcon =()=>{
        return(
            <svg width="16" height="19" viewBox="0 0 16 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M6.33333 16.5H9.66667C9.66667 17.4166 8.91667 18.1666 8 18.1666C7.08333 18.1666 6.33333 17.4166 6.33333 16.5ZM15.5 14.8333V15.6666H0.5V14.8333L2.16667 13.1666V8.16663C2.16667 5.58329 3.83333 3.33329 6.33333 2.58329V2.33329C6.33333 1.41663 7.08333 0.666626 8 0.666626C8.91667 0.666626 9.66667 1.41663 9.66667 2.33329V2.58329C12.1667 3.33329 13.8333 5.58329 13.8333 8.16663V13.1666L15.5 14.8333ZM12.1667 8.16663C12.1667 5.83329 10.3333 3.99996 8 3.99996C5.66667 3.99996 3.83333 5.83329 3.83333 8.16663V14H12.1667V8.16663Z"
                    fill="#A4A4A5"/>
            </svg>
        )
    }

    const accountIcon = ()=>{
        return (
            <svg width="20" height="20" viewBox="0 0 25 25" fill="none"
                 xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M13 10.5C15.2091 10.5 17 8.70914 17 6.5C17 4.29086 15.2091 2.5 13 2.5C10.7909 2.5 9 4.29086 9 6.5C9 8.70914 10.7909 10.5 13 10.5Z"
                    fill="#515459"/>
                <path
                    d="M21 18C21 20.485 21 22.5 13 22.5C5 22.5 5 20.485 5 18C5 15.515 8.582 13.5 13 13.5C17.418 13.5 21 15.515 21 18Z"
                    fill="#515459"/>
            </svg>
        )
    }

    const settingIcon = () =>{
        return (
            <svg width="20" height="21" viewBox="0 0 20 21" fill="none"
                 xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M19.5099 13.0899L18.2599 11.7699C18.4196 10.8079 18.3992 9.82456 18.1999 8.86994L19.4199 7.54994C19.5146 7.44443 19.5779 7.31452 19.6027 7.17492C19.6274 7.03531 19.6126 6.89157 19.5599 6.75994C19.054 5.50947 18.3064 4.37108 17.3599 3.40994C17.2674 3.31746 17.152 3.25115 17.0256 3.21778C16.8991 3.1844 16.766 3.18515 16.6399 3.21994L14.7999 3.68994C14.2334 3.28258 13.6187 2.94671 12.9699 2.68994L12.5199 0.96994C12.4865 0.830435 12.4127 0.70387 12.3078 0.606053C12.2028 0.508236 12.0714 0.443503 11.9299 0.41994C11.3068 0.303007 10.6739 0.24608 10.0399 0.24994C9.24661 0.253268 8.45695 0.357436 7.68992 0.55994C7.56191 0.592117 7.44503 0.658397 7.3517 0.751725C7.25837 0.845052 7.19209 0.961937 7.15992 1.08994L6.67992 2.85994C6.14331 3.09821 5.63374 3.39323 5.15992 3.73994L3.33992 3.28994C3.21213 3.25653 3.07768 3.25842 2.95089 3.29541C2.82409 3.33239 2.70971 3.40308 2.61992 3.49994C1.62569 4.53281 0.865169 5.76737 0.389917 7.11994C0.343829 7.25067 0.334374 7.39152 0.362575 7.52724C0.390777 7.66297 0.455561 7.78839 0.549917 7.88994L1.80992 9.19994C1.74612 9.62032 1.7127 10.0448 1.70992 10.4699C1.70992 10.7699 1.70992 11.0699 1.75992 11.3699L0.449917 12.8299C0.361759 12.927 0.300592 13.0455 0.272518 13.1736C0.244443 13.3017 0.250442 13.4349 0.289917 13.5599C0.700857 14.8822 1.3819 16.1046 2.28992 17.1499C2.38124 17.2573 2.50098 17.3368 2.6354 17.3792C2.76982 17.4217 2.91349 17.4254 3.04992 17.3899L4.76992 16.9499C5.37175 17.4571 6.04583 17.8716 6.76992 18.1799L7.26992 19.9699C7.30844 20.0997 7.38048 20.217 7.4788 20.3101C7.57712 20.4031 7.69822 20.4686 7.82992 20.4999C8.55092 20.6629 9.28892 20.7469 10.0299 20.7499C10.6199 20.7439 11.2079 20.6869 11.7899 20.5799C11.928 20.5556 12.0564 20.493 12.1607 20.3993C12.265 20.3056 12.3409 20.1846 12.3799 20.0499L12.8499 18.3599C13.7133 18.0511 14.5181 17.598 15.2299 17.0199L16.9899 17.4199C17.1219 17.4506 17.2598 17.4444 17.3885 17.4021C17.5172 17.3598 17.6319 17.2829 17.7199 17.1799C18.5965 16.2066 19.2757 15.0722 19.7199 13.8399C19.7558 13.7076 19.7553 13.568 19.7183 13.436C19.6813 13.304 19.6093 13.1844 19.5099 13.0899ZM10.1199 14.3599C9.61455 14.3694 9.11235 14.2782 8.64258 14.0917C8.1728 13.9052 7.74483 13.627 7.3836 13.2735C7.02237 12.9199 6.73511 12.498 6.53853 12.0323C6.34195 11.5667 6.24 11.0666 6.23861 10.5611C6.23722 10.0557 6.33641 9.55498 6.53042 9.08824C6.72442 8.6215 7.00936 8.19803 7.36863 7.84249C7.72791 7.48695 8.15433 7.20645 8.62308 7.01734C9.09182 6.82822 9.59351 6.73426 10.0989 6.74094C11.1094 6.73829 12.0795 7.13715 12.7959 7.84979C13.5123 8.56243 13.9163 9.53047 13.9189 10.5409C13.9216 11.5514 13.5227 12.5216 12.8101 13.2379C12.0974 13.9543 11.1294 14.3583 10.1189 14.3609"
                    fill="#515459"/>
            </svg>
        )
    }

    const addPostIcon = () => {
      return (
          <svg width="16" height="17" viewBox="0 0 16 17" fill="none"
               xmlns="http://www.w3.org/2000/svg">
              <path
                  d="M9.5 14.498V9.99805H14C14.3978 9.99805 14.7794 9.84001 15.0607 9.55871C15.342 9.2774 15.5 8.89587 15.5 8.49805C15.5 8.10022 15.342 7.71869 15.0607 7.43739C14.7794 7.15608 14.3978 6.99805 14 6.99805H9.5V2.49805C9.5 2.10022 9.34196 1.71869 9.06066 1.43739C8.77936 1.15608 8.39782 0.998047 8 0.998047C7.60218 0.998047 7.22064 1.15608 6.93934 1.43739C6.65804 1.71869 6.5 2.10022 6.5 2.49805V6.99805H2C1.60217 6.99805 1.22064 7.15608 0.93934 7.43739C0.658036 7.71869 0.5 8.10022 0.5 8.49805C0.5 8.89587 0.658036 9.2774 0.93934 9.55871C1.22064 9.84001 1.60217 9.99805 2 9.99805H6.5V14.498C6.5 14.8959 6.65804 15.2774 6.93934 15.5587C7.22064 15.84 7.60218 15.998 8 15.998C8.39782 15.998 8.77936 15.84 9.06066 15.5587C9.34196 15.2774 9.5 14.8959 9.5 14.498Z"
                  fill="#515459" stroke="#515459"/>
          </svg>
      )
    }

    const exitIcon = () =>{
        return (
            <svg width="16" height="19" viewBox="0 0 16 19" fill="none"
                 xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M11 0.500977C11.1313 0.500977 11.2614 0.526842 11.3827 0.577097C11.504 0.627352 11.6142 0.701011 11.7071 0.79387C11.8 0.886728 11.8736 0.996968 11.9239 1.11829C11.9741 1.23962 12 1.36965 12 1.50098C12 1.6323 11.9741 1.76233 11.9239 1.88366C11.8736 2.00499 11.8 2.11523 11.7071 2.20808C11.6142 2.30094 11.504 2.3746 11.3827 2.42486C11.2614 2.47511 11.1313 2.50098 11 2.50098H2V15.501C2 15.7662 2.10536 16.0205 2.29289 16.2081C2.48043 16.3956 2.73478 16.501 3 16.501H11C11.2652 16.501 11.5196 16.6063 11.7071 16.7939C11.8946 16.9814 12 17.2358 12 17.501C12 17.7662 11.8946 18.0205 11.7071 18.2081C11.5196 18.3956 11.2652 18.501 11 18.501H3C2.20435 18.501 1.44129 18.1849 0.87868 17.6223C0.316071 17.0597 0 16.2966 0 15.501V1.50098C0 1.23576 0.105357 0.981406 0.292893 0.79387C0.48043 0.606334 0.734784 0.500977 1 0.500977H11ZM12.707 5.79398C12.5672 5.65423 12.3891 5.55904 12.1953 5.52044C12.0014 5.48184 11.8005 5.50156 11.6178 5.57711C11.4351 5.65265 11.279 5.78064 11.169 5.94489C11.0591 6.10915 11.0002 6.30231 11 6.49998V8.49998H5C4.73478 8.49998 4.48043 8.60533 4.29289 8.79287C4.10536 8.98041 4 9.23476 4 9.49998C4 9.76519 4.10536 10.0195 4.29289 10.2071C4.48043 10.3946 4.73478 10.5 5 10.5H11V12.5C11 12.6977 11.0587 12.891 11.1686 13.0554C11.2785 13.2198 11.4346 13.348 11.6173 13.4237C11.8 13.4993 12.0011 13.5191 12.195 13.4806C12.389 13.442 12.5671 13.3468 12.707 13.207L15.707 10.207C15.8945 10.0194 15.9998 9.76514 15.9998 9.49998C15.9998 9.23481 15.8945 8.9805 15.707 8.79298L12.707 5.79398Z"
                    fill="#9C5E5E"/>
            </svg>
        )
    }
    return (
        <header className={"Header"}>
            <nav>
                <Link className={`logo`} to={`/`}>JUST.CODE</Link>
            </nav>
            <nav className={`menu`}>
                <Link className={`text`}>Главная</Link>
                <Link className={`text`} to={`/main`}>Информация</Link>
                <Link className={`text`}>Стать автором</Link>
            </nav>
            <nav className={`auth`}>
                <Link className={`btn btn-1`}>
                    {notificationIcon()}
                </Link>
                <div className={`user`} onMouseMove={() => setActive(true)} onMouseLeave={() => setActive(false)} >
                    <div className={`user-icon`}></div>
                    {Userstate.name}</div>
                <div className={active ? 'user-menu active' : 'user-menu'} onMouseMove={() => setActive(true)} onMouseLeave={() => setActive(false)}>
                    <Link className={`btn`}>
                        {accountIcon()}
                        Аккаунт</Link>
                    <Link className={`btn`}>
                        {settingIcon()}
                        Настройки</Link>
                    <Link className={`btn`}>
                        {addPostIcon()}
                        Добавить пост</Link>
                    <Link className={`btn`}>
                        {exitIcon()}
                        Выход</Link>
                </div>
            </nav>
        </header>
    )
}

export const Header = () => {
    let state = Userstate.auth
    if (state == false) {
        return (
            <UnauthorizedHeader/>
        )
    } else if (state == true) {
        return (
            <AuthorizedHeader/>
        )
    }

}